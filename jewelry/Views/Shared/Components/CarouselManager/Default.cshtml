@model IEnumerable<jewelry.Models.CarouselImage>
<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    @{var count = Model.Count();}
    <ol class="carousel-indicators">
        @for (int i = 0; i < count; i++)
        {
            if (i == 3) break;
            if (i == 0)
            {
                <li data-target="#carouselExampleIndicators" data-slide-to="i" class="active"></li>
            }
            else
            {
                <li data-target="#carouselExampleIndicators" data-slide-to="i"></li>
            }
        }
    </ol>
    <div class="carousel-inner carousel-frame">
        @{
            int j = 0;
            string[] alts = { "First slide", "Second slide", "Third slide", "Fourth slide" };
            foreach (CarouselImage item in Model)
            {
                string img = Convert.ToBase64String(item.Image);
                if (j == 0)
                {
                    <div class="carousel-item active">
                        <img class="d-block fit-image" src="data:image/png;base64,@img" alt="@alts[j]">
                    </div>
                }
                else
                {
                    <div class="carousel-item">
                        <img class="d-block fit-image" src="data:image/png;base64,@img" alt="@alts[j]">
                    </div>
                }
                j++;
                if (j == 3) break;
            }
        }
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>

